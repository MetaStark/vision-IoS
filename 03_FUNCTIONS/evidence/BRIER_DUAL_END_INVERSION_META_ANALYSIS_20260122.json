{
  "analysis_id": "BRIER_DUAL_END_INVERSION_META_ANALYSIS",
  "generated_at": "2026-01-22T21:45:00+01:00",
  "generated_by": "STIG (EC-003)",
  "database_source": "PostgreSQL 17.6 @ 127.0.0.1:54322",
  "verification_status": "DATABASE_VERIFIED",

  "executive_summary": {
    "title": "Dual-End Inversion Strategy: Meta-Analysis of Systematic Miscalibration",
    "hypothesis": "High-confidence predictions at both ends of the probability scale exhibit systematic miscalibration that can be exploited through signal inversion",
    "conclusion": "CONFIRMED - Dual-end inversion reduces system Brier from 0.5662 to 0.4944 (12.7% improvement) using only ex-ante detectable signals",
    "actionable_insight": "Extend current STRESS-only inversion to include BULL@99%+ for CRYPTO assets"
  },

  "current_system_state": {
    "total_resolved_forecasts": 4831,
    "current_brier_score": 0.566238,
    "baseline_day17_brier": 0.5358,
    "status": "REGRESSION_FROM_BASELINE"
  },

  "edge_case_analysis": {
    "top_10_best_predictions": {
      "description": "Lowest Brier scores (best predictions)",
      "pattern": "All BULL regime, all TRUE outcomes, confidence > 99%",
      "signals": [
        {"asset": "LGEN.L", "regime": "BULL", "confidence": 0.9992, "outcome": true, "brier": 0.000000, "date": "2026-01-07"},
        {"asset": "ATOM-USD", "regime": "BULL", "confidence": 0.9995, "outcome": true, "brier": 0.000000, "date": "2026-01-08"},
        {"asset": "GLEN.L", "regime": "BULL", "confidence": 0.9989, "outcome": true, "brier": 0.000000, "date": "2026-01-13"},
        {"asset": "EOAN.DE", "regime": "BULL", "confidence": 0.9978, "outcome": true, "brier": 0.000000, "date": "2026-01-06"},
        {"asset": "KOG.OL", "regime": "BULL", "confidence": 0.9994, "outcome": true, "brier": 0.000000, "date": "2026-01-13"},
        {"asset": "DHER.DE", "regime": "BULL", "confidence": 0.9947, "outcome": true, "brier": 0.000000, "date": "2026-01-13"},
        {"asset": "ML.PA", "regime": "BULL", "confidence": 0.9937, "outcome": true, "brier": 0.000000, "date": "2026-01-13"},
        {"asset": "ASML", "regime": "BULL", "confidence": 0.9992, "outcome": true, "brier": 0.000000, "date": "2026-01-13"},
        {"asset": "KLAC", "regime": "BULL", "confidence": 0.9991, "outcome": true, "brier": 0.000000, "date": "2026-01-13"},
        {"asset": "SLB", "regime": "BULL", "confidence": 0.9966, "outcome": true, "brier": 0.000000, "date": "2026-01-06"}
      ]
    },
    "bottom_10_worst_predictions": {
      "description": "Highest Brier scores (worst predictions)",
      "pattern": "Mixed BULL/STRESS regime, all FALSE outcomes, confidence > 99.9%",
      "critical_observation": "Clustering around 2026-01-13/14 suggests regime transition event",
      "signals": [
        {"asset": "PGR", "regime": "STRESS", "confidence": 0.9999, "outcome": false, "brier": 0.999800, "date": "2026-01-14"},
        {"asset": "BA.L", "regime": "BULL", "confidence": 0.9999, "outcome": false, "brier": 0.999800, "date": "2026-01-18"},
        {"asset": "PGR", "regime": "STRESS", "confidence": 0.9999, "outcome": false, "brier": 0.999800, "date": "2026-01-13"},
        {"asset": "AIG", "regime": "STRESS", "confidence": 0.9998, "outcome": false, "brier": 0.999600, "date": "2026-01-14"},
        {"asset": "XLB", "regime": "BULL", "confidence": 0.9998, "outcome": false, "brier": 0.999600, "date": "2026-01-14"},
        {"asset": "HAL", "regime": "BULL", "confidence": 0.9998, "outcome": false, "brier": 0.999600, "date": "2026-01-13"},
        {"asset": "ENGI.PA", "regime": "BULL", "confidence": 0.9998, "outcome": false, "brier": 0.999600, "date": "2026-01-14"},
        {"asset": "PHO.OL", "regime": "BULL", "confidence": 0.9998, "outcome": false, "brier": 0.999600, "date": "2026-01-14"},
        {"asset": "GIS", "regime": "STRESS", "confidence": 0.9998, "outcome": false, "brier": 0.999600, "date": "2026-01-11"},
        {"asset": "DE", "regime": "BULL", "confidence": 0.9997, "outcome": false, "brier": 0.999400, "date": "2026-01-14"}
      ]
    }
  },

  "regime_miscalibration_analysis": {
    "high_confidence_99pct_plus": {
      "STRESS": {
        "total_signals": 41,
        "wrong_predictions": 41,
        "correct_predictions": 0,
        "hit_rate_pct": 0.0,
        "avg_brier": 0.994600,
        "avg_brier_when_wrong": 0.994600,
        "avg_confidence": 0.9973,
        "inversion_recommendation": "MANDATORY - 100% failure rate"
      },
      "BULL": {
        "total_signals": 719,
        "wrong_predictions": 526,
        "correct_predictions": 193,
        "hit_rate_pct": 26.84,
        "avg_brier": 0.728180,
        "avg_brier_when_wrong": 0.995360,
        "avg_confidence": 0.9976,
        "inversion_recommendation": "CONDITIONAL - 73% failure rate, asset-class dependent"
      },
      "BEAR": {
        "total_signals": 126,
        "wrong_predictions": 81,
        "correct_predictions": 45,
        "hit_rate_pct": 35.71,
        "avg_brier": 0.635927,
        "avg_brier_when_wrong": 0.989205,
        "avg_confidence": 0.9946,
        "inversion_recommendation": "EVALUATE - 64% failure rate"
      },
      "NEUTRAL": {
        "total_signals": 105,
        "wrong_predictions": 73,
        "correct_predictions": 32,
        "hit_rate_pct": 30.48,
        "avg_brier": 0.686014,
        "avg_brier_when_wrong": 0.986712,
        "avg_confidence": 0.9933,
        "inversion_recommendation": "EVALUATE - 70% failure rate"
      }
    }
  },

  "stress_regime_deep_dive": {
    "critical_finding": "STRESS regime has 0% hit rate across ALL confidence levels",
    "confidence_buckets": [
      {"bucket": "99.9%+", "total": 19, "correct": 0, "wrong": 19, "hit_rate_pct": 0.0, "avg_brier": 0.9989},
      {"bucket": "99.5-99.9%", "total": 12, "correct": 0, "wrong": 12, "hit_rate_pct": 0.0, "avg_brier": 0.9944},
      {"bucket": "99.0-99.5%", "total": 10, "correct": 0, "wrong": 10, "hit_rate_pct": 0.0, "avg_brier": 0.9867},
      {"bucket": "95-99%", "total": 26, "correct": 0, "wrong": 26, "hit_rate_pct": 0.0, "avg_brier": 0.9491},
      {"bucket": "90-95%", "total": 8, "correct": 0, "wrong": 8, "hit_rate_pct": 0.0, "avg_brier": 0.8733},
      {"bucket": "<90%", "total": 173, "correct": 0, "wrong": 173, "hit_rate_pct": 0.0, "avg_brier": 0.3679}
    ],
    "total_stress_signals": 248,
    "total_stress_correct": 0,
    "implication": "STRESS regime model is fundamentally broken - invert ALL signals regardless of confidence"
  },

  "bull_regime_deep_dive": {
    "critical_finding": "BULL regime shows inverse calibration at high confidence",
    "confidence_buckets": [
      {"bucket": "99.9%+", "total": 216, "correct": 58, "wrong": 158, "hit_rate_pct": 26.85, "avg_brier": 0.7305},
      {"bucket": "99.5-99.9%", "total": 398, "correct": 100, "wrong": 298, "hit_rate_pct": 25.13, "avg_brier": 0.7457},
      {"bucket": "99.0-99.5%", "total": 105, "correct": 35, "wrong": 70, "hit_rate_pct": 33.33, "avg_brier": 0.6572},
      {"bucket": "95-99%", "total": 264, "correct": 113, "wrong": 151, "hit_rate_pct": 42.80, "avg_brier": 0.5452},
      {"bucket": "90-95%", "total": 326, "correct": 39, "wrong": 287, "hit_rate_pct": 11.96, "avg_brier": 0.7767},
      {"bucket": "<90%", "total": 487, "correct": 112, "wrong": 375, "hit_rate_pct": 23.00, "avg_brier": 0.4364}
    ],
    "pattern": "Higher confidence correlates with LOWER hit rate at extreme levels",
    "implication": "System is overconfident when wrong - inversion exploits this"
  },

  "bull_99pct_asset_class_breakdown": {
    "CRYPTO": {
      "signals": 327,
      "correct": 40,
      "wrong": 287,
      "wrong_pct": 87.77,
      "original_brier": 0.874235,
      "inverted_brier": 0.121805,
      "improvement": 0.752430,
      "recommendation": "STRONG_INVERT",
      "rationale": "87.77% failure rate makes inversion highly profitable"
    },
    "EQUITY": {
      "signals": 386,
      "correct": 153,
      "wrong": 233,
      "wrong_pct": 60.36,
      "original_brier": 0.600303,
      "inverted_brier": 0.394206,
      "improvement": 0.206097,
      "recommendation": "CONDITIONAL_INVERT",
      "rationale": "60% failure rate - marginal benefit, higher risk"
    },
    "FX": {
      "signals": 6,
      "correct": 0,
      "wrong": 6,
      "wrong_pct": 100.0,
      "original_brier": 0.994900,
      "inverted_brier": 0.000011,
      "improvement": 0.994889,
      "recommendation": "STRONG_INVERT",
      "rationale": "100% failure rate (small sample) - perfect inversion candidate"
    }
  },

  "repeated_failure_assets": {
    "description": "Assets with 3+ failures at BULL@99%+ confidence",
    "top_offenders": [
      {"asset": "SHIB-USD", "failures": 214, "avg_confidence": 0.9984, "avg_brier": 0.9969, "class": "CRYPTO"},
      {"asset": "XRP-USD", "failures": 32, "avg_confidence": 0.9984, "avg_brier": 0.9968, "class": "CRYPTO"},
      {"asset": "ATOM-USD", "failures": 9, "avg_confidence": 0.9990, "avg_brier": 0.9980, "class": "CRYPTO"},
      {"asset": "DOT-USD", "failures": 8, "avg_confidence": 0.9944, "avg_brier": 0.9888, "class": "CRYPTO"},
      {"asset": "USDCAD=X", "failures": 6, "avg_confidence": 0.9975, "avg_brier": 0.9949, "class": "FX"},
      {"asset": "XTZ-USD", "failures": 6, "avg_confidence": 0.9979, "avg_brier": 0.9959, "class": "CRYPTO"},
      {"asset": "MTX.DE", "failures": 5, "avg_confidence": 0.9972, "avg_brier": 0.9944, "class": "EQUITY"},
      {"asset": "MRK.DE", "failures": 4, "avg_confidence": 0.9967, "avg_brier": 0.9934, "class": "EQUITY"},
      {"asset": "AKER.OL", "failures": 4, "avg_confidence": 0.9983, "avg_brier": 0.9966, "class": "EQUITY"},
      {"asset": "XLB", "failures": 4, "avg_confidence": 0.9991, "avg_brier": 0.9981, "class": "EQUITY"}
    ],
    "insight": "CRYPTO assets dominate the failure list - SHIB-USD alone has 214 failures"
  },

  "dual_end_inversion_simulation": {
    "strategies_compared": [
      {
        "strategy": "CURRENT",
        "description": "No inversion applied",
        "brier_score": 0.566238,
        "improvement_vs_current": 0.0,
        "improvement_pct": 0.0
      },
      {
        "strategy": "INVERT_STRESS_ONLY",
        "description": "Invert all STRESS regime signals (current IoS-012-B)",
        "brier_score": 0.545361,
        "improvement_vs_current": 0.020877,
        "improvement_pct": 3.69
      },
      {
        "strategy": "INVERT_STRESS_AND_BULL_CRYPTO",
        "description": "Invert STRESS + BULL@99%+ CRYPTO signals",
        "brier_score": 0.494430,
        "improvement_vs_current": 0.071808,
        "improvement_pct": 12.68
      },
      {
        "strategy": "INVERT_ALL_HIGH_CONF_WRONG",
        "description": "Oracle strategy - invert all 99%+ that were wrong (hindsight)",
        "brier_score": 0.405492,
        "improvement_vs_current": 0.160746,
        "improvement_pct": 28.39
      }
    ],
    "recommended_strategy": "INVERT_STRESS_AND_BULL_CRYPTO",
    "rationale": "Achieves 12.68% improvement using only ex-ante detectable signals (no hindsight required)"
  },

  "inversion_impact_by_category": {
    "STRESS_ALL": {
      "signal_count": 248,
      "original_avg_brier": 0.548772,
      "inverted_avg_brier": 0.142090,
      "brier_improvement": 0.406682,
      "wrong_pct": 100.0,
      "detection_method": "EX_ANTE",
      "confidence_requirement": "ANY"
    },
    "BULL_99PCT_ALL": {
      "signal_count": 719,
      "original_avg_brier": 0.728180,
      "inverted_avg_brier": 0.267029,
      "brier_improvement": 0.461151,
      "wrong_pct": 73.16,
      "detection_method": "EX_ANTE",
      "confidence_requirement": ">=99%"
    },
    "BULL_99PCT_CRYPTO_ONLY": {
      "signal_count": 327,
      "original_avg_brier": 0.874235,
      "inverted_avg_brier": 0.121805,
      "brier_improvement": 0.752430,
      "wrong_pct": 87.77,
      "detection_method": "EX_ANTE",
      "confidence_requirement": ">=99% AND asset_class=CRYPTO"
    }
  },

  "meta_analysis_conclusions": {
    "finding_1": {
      "title": "STRESS Regime is Systematically Inverted",
      "detail": "0% hit rate across ALL confidence levels (248 signals, 0 correct)",
      "implication": "The model's STRESS detector is anti-correlated with reality",
      "action": "MANDATORY inversion for all STRESS signals"
    },
    "finding_2": {
      "title": "BULL@99%+ Shows Asset-Class Dependent Miscalibration",
      "detail": "CRYPTO: 87.77% wrong, EQUITY: 60.36% wrong, FX: 100% wrong",
      "implication": "High-confidence BULL predictions for CRYPTO are nearly as broken as STRESS",
      "action": "Extend inversion to BULL@99%+ CRYPTO signals"
    },
    "finding_3": {
      "title": "Confidence is Inversely Correlated with Accuracy at Extremes",
      "detail": "BULL@99.9%+ has 26.85% hit rate vs BULL@95-99% has 42.80% hit rate",
      "implication": "The model becomes LESS reliable as it becomes MORE confident",
      "action": "Implement confidence damping or inversion at extreme levels"
    },
    "finding_4": {
      "title": "SHIB-USD is the Worst Offender",
      "detail": "214 failures at BULL@99%+ confidence - single asset dominates failures",
      "implication": "Asset-specific model breakdown, possibly due to high volatility or thin data",
      "action": "Consider asset-specific exclusion or mandatory inversion for SHIB-USD"
    },
    "finding_5": {
      "title": "Dual-End Inversion Achieves 12.68% Brier Improvement",
      "detail": "From 0.5662 to 0.4944 using ex-ante detectable rules only",
      "implication": "Significant alpha available without hindsight contamination",
      "action": "Implement INVERT_STRESS_AND_BULL_CRYPTO strategy"
    }
  },

  "governance_recommendations": {
    "immediate_actions": [
      {
        "priority": "P0",
        "action": "Extend IoS-012-B to include BULL@99%+ CRYPTO inversion",
        "expected_impact": "Brier improvement from 0.5454 to 0.4944"
      },
      {
        "priority": "P1",
        "action": "Add SHIB-USD to explicit inversion universe",
        "expected_impact": "Eliminates 214 catastrophic failures"
      },
      {
        "priority": "P1",
        "action": "Implement confidence ceiling at 99% for BULL regime",
        "expected_impact": "Prevents overconfidence penalty"
      }
    ],
    "research_actions": [
      {
        "priority": "P2",
        "action": "Investigate 2026-01-13/14 event clustering",
        "rationale": "Multiple worst predictions cluster on these dates"
      },
      {
        "priority": "P2",
        "action": "Evaluate EQUITY inversion at BULL@99.5%+ threshold",
        "rationale": "60% failure rate may justify selective inversion"
      }
    ],
    "monitoring_requirements": [
      "Track hit rate by regime and confidence bucket daily",
      "Alert on new STRESS signals with confidence >90%",
      "Alert on CRYPTO BULL signals with confidence >99%"
    ]
  },

  "hindsight_firewall_compliance": {
    "ex_ante_signals": {
      "STRESS_ALL": "Detectable at signal generation time - no hindsight required",
      "BULL_99PCT_CRYPTO": "Detectable at signal generation time - no hindsight required"
    },
    "hindsight_required": {
      "INVERT_ALL_HIGH_CONF_WRONG": "Requires outcome knowledge - NOT implementable in production"
    },
    "recommended_strategy_compliance": "COMPLIANT - uses only ex-ante detectable rules"
  },

  "evidence_chain": {
    "data_source": "fhq_governance.brier_score_ledger",
    "total_records_analyzed": 4831,
    "query_timestamp": "2026-01-22T21:45:00Z",
    "verification_hash": "SHA256_PENDING_VEGA_ATTESTATION"
  },

  "status": "META_ANALYSIS_COMPLETE",
  "next_action": "CEO review for IoS-012-B amendment to include BULL@99%+ CRYPTO inversion"
}
