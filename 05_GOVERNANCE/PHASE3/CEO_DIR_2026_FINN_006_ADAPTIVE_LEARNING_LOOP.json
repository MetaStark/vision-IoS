{
  "directive_id": "CEO-DIR-2026-FINN-006",
  "title": "Adaptive Epistemic Learning Loop for the First 1,000 Runs",
  "classification": "GOVERNANCE-CRITICAL (Class A)",
  "status": "CEO_APPROVED",
  "date_issued": "2025-12-30T23:30:00Z",
  "authority_references": ["ADR-001", "ADR-004", "ADR-013", "ADR-014"],
  "applies_to": ["FINN (CRIO)", "EC-020", "EC-021", "EC-022"],
  "oversight": ["VEGA (Audit)", "LARS (Strategy)", "STIG (Implementation)"],

  "section_1_executive_mandate": {
    "statement": "The first 1,000 FINN executions constitute an Epistemic Learning Window, not a static validation exercise.",
    "batch_1_confirmation": {
      "truth_engine_integrity": "SitC-Chain = 1.00",
      "search_inefficiency": "SitC-Discipline = 0.45"
    },
    "transformation": "This directive transforms inefficiency from a liability into an explicit learning signal.",
    "reward_principle": "The system is NOT rewarded for being correct. It IS rewarded for learning how to reach correctness with less noise."
  },

  "section_2_non_negotiable_guardrails": {
    "scope": "During the 1,000-run window",
    "guardrails": {
      "sitc_chain_integrity": {
        "requirement": "Must remain >= 1.00 for any automatic progression",
        "enforcement": "HARD_BLOCK"
      },
      "zea": {
        "requirement": "No execution verbs, no canonical writes beyond G0",
        "enforcement": "CONSTITUTIONAL"
      },
      "ontology_integrity": {
        "requirement": "ADR-013 One-Source-of-Truth strictly enforced",
        "enforcement": "VEGA audit"
      },
      "human_authority": {
        "requirement": "HOW (Annex C) remains absolute and unchallenged",
        "enforcement": "CONSTITUTIONAL"
      }
    },
    "principle": "Learning is permitted. Redefinition of truth is NOT."
  },

  "section_3_self_learning_activation": {
    "section_3_1_ec020_discipline_aware_query": {
      "owner": "EC-020 (SitC)",
      "mandate": "EC-020 shall adapt future query decomposition based on historical retrieval efficiency, indexed by market regime.",
      "mechanism": {
        "table": "fhq_research.retrieval_efficiency_log",
        "per_run_logging": [
          "All retrieved evidence_node_ids",
          "Nodes unused in final reasoning chain (flagged)",
          "Associated ontology_path",
          "Associated regime_id (from IoS-003)",
          "SitC-Discipline delta"
        ]
      },
      "learning_rule": {
        "down_weighting": "Evidence paths with persistently low utilization are down-weighted",
        "regime_specificity": "Down-weighting is regime-specific",
        "rationale": "Noise in BULL may be signal in BROKEN"
      },
      "constraint": "No manual tuning permitted during the batch"
    },

    "section_3_2_ec021_signal_yield_gating": {
      "owner": "EC-021 (InForage)",
      "mandate": "InForage evolves from cost-control to attention-control.",
      "signal_yield_logic": {
        "tracking_dimensions": ["source_tier", "ontology_path", "regime_id"],
        "low_yield_consequences": [
          "Higher justification threshold required",
          "Reduced retrieval priority"
        ]
      },
      "surprise_resampling": {
        "name": "Anti-Confirmation Bias Firewall",
        "quota": 0.05,
        "description": "In 5% of retrievals, EC-021 MUST include low-weighted nodes",
        "purpose": [
          "Re-test discarded assumptions",
          "Verify that 'noise' remains noise"
        ],
        "constraint": "Exploration is bounded, logged, and auditable"
      }
    },

    "section_3_3_ec022_ikea_active_feedback": {
      "owner": "EC-022 (IKEA)",
      "mandate": "IKEA outcomes must shape subsequent runs.",
      "mechanism": {
        "hybrid_external_required": {
          "must_annotate": "Uncertainty drivers",
          "must_feed_back": "Constraints into EC-020"
        },
        "repeated_hybrid_patterns": {
          "trigger": "Narrower future query scopes",
          "consequence": "Stricter LAKE quotas"
        }
      },
      "outcome": "The system becomes selectively paranoid where it has learned to be wrong."
    }
  },

  "section_4_learning_kpis": {
    "scope": "Runs 1-1,000",
    "tracking_mode": "Tracked, NOT gated",
    "metrics": {
      "sitc_chain_integrity": {
        "rule": "HARD_REQUIREMENT",
        "value": 1.00
      },
      "sitc_retrieval_discipline": {
        "rule": "LEARNING_SIGNAL_ONLY",
        "baseline": 0.45,
        "target": 0.70,
        "trend": "Improving"
      }
    },
    "regression_policy": "Logged, not punished",
    "principle": "Failure to improve discipline is acceptable. Failure to LEARN from it is NOT."
  },

  "section_5_vega_learning_audit": {
    "purpose": "Anti-Gaming Control",
    "mandate": "VEGA shall monitor the learning curve itself.",
    "flags": {
      "over_efficiency": {
        "trigger": "SitC-Discipline rises above 0.90 too quickly",
        "concerns": ["Potential over-pruning", "Semantic tunnel vision"]
      },
      "flagged_batch_requirements": [
        "Human review",
        "Ontology re-anchoring check"
      ]
    },
    "principle": "Extreme efficiency without resistance is treated as a RISK SIGNAL."
  },

  "section_6_human_authority": {
    "status": "REAFFIRMED",
    "how_capabilities": [
      "Force IKEA = EXTERNAL_REQUIRED",
      "Block ontology paths",
      "Approve or reject Golden Seeds",
      "Halt the system entirely"
    ],
    "principle": "No adaptive loop may override human judgment."
  },

  "section_7_ceo_interpretation": {
    "statement": "This directive installs a black box AND a red team inside the nervous system of the first 1,000 runs.",
    "system_forced_to": [
      "Fail honestly",
      "Remember its failures",
      "Adapt its perception",
      "Remain interruptible by humans"
    ],
    "outcome": "This is how FjordHQ earns the right to autonomy in 2026."
  },

  "architecture_summary": {
    "components": {
      "ec020": {
        "role": "Brain: Adaptive query formulation",
        "legal_anchor": "ADR-014 (Mandate)"
      },
      "ec021": {
        "role": "Filter: Signal-yield gating",
        "legal_anchor": "ADR-004 (Change Gates)"
      },
      "ec022": {
        "role": "Censor: Paranoid feedback-loop",
        "legal_anchor": "ADR-013 (One-Source-of-Truth)"
      },
      "vega": {
        "role": "Sheriff: Monitors learning curve",
        "legal_anchor": "ADR-001 (Constitution)"
      }
    }
  },

  "freedom_formula": {
    "sitc_chain": {
      "formula": "SitC_Chain = verified_items_used / total_items_used >= 1.00",
      "purpose": "Ensures system never guesses - protects truth"
    },
    "sitc_discipline": {
      "formula": "SitC_Discipline = verified_items_used / total_items_retrieved",
      "baseline": 0.45,
      "target": 0.70,
      "purpose": "Reduces denominator in freedom formula (Time Spent)"
    }
  },

  "regime_aware_learning": {
    "integration": "IoS-003 Regime-ID integrated into EC-020",
    "rationale": "Macro signals that are noise in Strong Bull become Golden Needles in Broken/Volatile regime",
    "outcome": "System develops contextual memory - operates like experienced senior analyst, not raw algorithmic process"
  },

  "risk_mitigation": {
    "anti_confirmation_bias": {
      "mechanism": "5% Random Exploration Quota",
      "purpose": "Prevents echo-chamber trap"
    },
    "vega_gating": {
      "trigger": "Discipline > 0.90",
      "flag": "Risk signal - potential gamification"
    }
  },

  "signatures": {
    "strategic_authority": {
      "agent": "LARS",
      "status": "APPROVED",
      "date": "2025-12-30"
    },
    "technical_authority": {
      "agent": "STIG",
      "status": "VERIFIED",
      "date": "2025-12-30"
    },
    "governance_authority": {
      "agent": "VEGA",
      "status": "ATTESTED",
      "date": "2025-12-30"
    },
    "final_authority": {
      "agent": "CEO",
      "status": "APPROVED",
      "date": "2025-12-30",
      "note": "Legally and technically watertight. Establishes Black Box that actively reflects on its own truth-finding ability."
    }
  },

  "implementation_requirements": {
    "new_tables": [
      "fhq_research.retrieval_efficiency_log",
      "fhq_research.signal_yield_tracking",
      "fhq_research.ikea_feedback_log"
    ],
    "new_functions": [
      "calculate_regime_aware_weights()",
      "apply_surprise_resampling()",
      "detect_efficiency_anomaly()"
    ]
  },

  "execution_status": "ACTIVE",
  "effective_date": "2025-12-30T23:30:00Z"
}
