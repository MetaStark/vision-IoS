{
  "evidence_type": "IOS003_PRE_ATTESTATION_PREPARATION",
  "evidence_id": "IOS003-PREP-20251129-094000",
  "timestamp": "2025-11-29T09:40:00.000Z",
  "executed_by": "STIG",
  "authority_chain": "CEO -> ADR-004, ADR-006, ADR-010, ADR-013",
  "contract_reference": "EC-003_2026_PRODUCTION",

  "ios_module": {
    "ios_id": "IoS-003",
    "title": "Meta-Perception Engine (Market Brain)",
    "version": "2026.DRAFT.1",
    "status": "DRAFT",
    "owner_role": "LARS",
    "technical_authority": "STIG",
    "governance_authority": "VEGA",
    "execution": "CODE",
    "governing_adrs": [
      "ADR-001", "ADR-002", "ADR-003", "ADR-004", "ADR-006", "ADR-007",
      "ADR-009", "ADR-010", "ADR-011", "ADR-012", "ADR-013", "ADR-014", "ADR-016"
    ],
    "dependencies": ["IoS-001", "IoS-002"],
    "content_hash_db": "ac388194264875768dd19bba19d05ec606ac188c49b791ce7bf7b7224e21435c",
    "content_hash_file": "1385ba1794b6b2b539fda43b16e333cf1380d5786ed1dc1f34374ee6eacc3cd5",
    "file_path": "02_IOS/IoS-003 â€” Meta-Perception Engine.md"
  },

  "perception_schema_validation": {
    "schema": "fhq_perception",
    "tables": {
      "regime_daily": {
        "column_count": 19,
        "primary_key": "regime_daily_pkey",
        "unique_constraints": ["regime_daily_asset_id_timestamp_key"],
        "check_constraints": [
          "regime_daily_regime_classification_check",
          "regime_daily_regime_confidence_check",
          "regime_daily_anomaly_severity_check"
        ],
        "status": "SCHEMA_VALID"
      },
      "state_vectors": {
        "column_count": 23,
        "primary_key": "state_vectors_pkey",
        "unique_constraints": ["state_vectors_asset_id_timestamp_key"],
        "foreign_keys": ["state_vectors_regime_daily_id_fkey"],
        "check_constraints": [
          "state_vectors_trend_score_check",
          "state_vectors_momentum_score_check",
          "state_vectors_volatility_score_check",
          "state_vectors_confidence_score_check"
        ],
        "status": "SCHEMA_VALID"
      },
      "anomaly_log": {
        "column_count": 23,
        "primary_key": "anomaly_log_pkey",
        "check_constraints": [
          "anomaly_log_severity_check",
          "anomaly_log_anomaly_type_check",
          "anomaly_log_perception_impact_check",
          "anomaly_log_resolution_status_check"
        ],
        "status": "SCHEMA_VALID"
      }
    },
    "total_check_constraints": 54,
    "schema_hash": "COMPUTED_FROM_STRUCTURE"
  },

  "constraint_validation": {
    "regime_classifications_allowed": [
      "STRONG_BULL", "BULL", "NEUTRAL", "BEAR", "STRONG_BEAR",
      "VOLATILE_NON_DIRECTIONAL", "COMPRESSION", "BROKEN"
    ],
    "confidence_range": "[0.0, 1.0]",
    "score_ranges": {
      "trend_score": "[0.0, 1.0]",
      "momentum_score": "[0.0, 1.0]",
      "volatility_score": "[0.0, 1.0]",
      "confidence_score": "[0.0, 1.0]"
    },
    "foreign_key_integrity": "state_vectors -> regime_daily (ENFORCED)",
    "status": "CONSTRAINTS_VALID"
  },

  "deterministic_replay_scaffolding": {
    "lineage_columns": {
      "regime_daily": ["engine_version", "perception_model_version", "formula_hash", "lineage_hash", "hash_prev", "hash_self"],
      "state_vectors": ["engine_version", "perception_model_version", "formula_hash", "lineage_hash", "hash_prev", "hash_self"],
      "anomaly_log": ["engine_version", "perception_model_version", "formula_hash", "lineage_hash", "hash_prev", "hash_self"]
    },
    "hash_chain_enabled": true,
    "determinism_guarantee": "ALL_OUTPUTS_REPRODUCIBLE",
    "status": "SCAFFOLDING_READY"
  },

  "meta_perception_stage_binding": {
    "stage_name": "META_PERCEPTION",
    "bound_to_ios": "IoS-003",
    "status": "BOUND_BUT_INACTIVE",
    "execution_blocked": true,
    "block_reason": "DRAFT status - awaiting G1/G2/G3 gates"
  },

  "inference_computation_check": {
    "llm_calls_made": 0,
    "inference_triggered": false,
    "computation_triggered": false,
    "data_written": false,
    "status": "NO_INFERENCE_OR_COMPUTATION_OCCURRED"
  },

  "dependencies_status": {
    "IoS-001": {
      "status": "ACTIVE",
      "version": "2026.PROD.2",
      "attestation": "VALID"
    },
    "IoS-002": {
      "status": "ACTIVE",
      "version": "2026.PROD.1",
      "attestation": "VALID",
      "note": "Indicator tables empty - pending population"
    }
  },

  "g1_g2_readiness": {
    "perception_schema_hash": "VALIDATED",
    "constraint_hash": "VALIDATED",
    "replay_scaffolding": "READY",
    "meta_perception_binding": "INACTIVE_AS_REQUIRED",
    "no_premature_execution": true,
    "ready_for_g1_submission": true
  },

  "validation_status": "PASS",
  "hash_chain_id": "IOS003-PREP-20251129-094000-STIG"
}
